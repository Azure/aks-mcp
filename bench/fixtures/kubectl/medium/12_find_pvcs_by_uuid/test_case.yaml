id: "12_find_pvcs_by_uuid"
title: "Find PVCs by Backup ID Annotation"
description: "Test agent's ability to search PVCs by annotation and report sizes across namespaces"
user_prompt: "Find all PVCs that were created from backup ID b7f3a521-8c4d-4e6a-9f2b-1a3d5e7f9c2e and cite their sizes"
expected_output:
  - "Found.*4.*PVCs"
  - "database-pvc.*app-112-prod.*2Mi"
  - "media-storage.*app-112-prod.*2Mi"
  - "test-database.*app-112-staging.*2Mi"
  - "build-cache.*app-112-dev.*2Mi"
expected_tool_usage:
  - tool_name: "call_kubectl"
    min_calls: 1
    required_args_patterns:
      - "pvc|persistentvolumeclaim"
tags:
  - kubernetes
  - medium
timeout: 2m
before_test: |
  kubectl apply -f ./manifest.yaml
  sleep 5
after_test: |
  kubectl delete -f ./manifest.yaml